<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buyurtma berish - Tabrik Xizmati</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
/* ===============================
   TABRIK XIZMATI - BEAUTIFUL STYLES
   =============================== */

/* === ROOT VARIABLES === */
:root {
  --primary-color: #dc3545;
  --primary-dark: #b02a37;
  --primary-light: #f8d7da;
  --secondary-color: #28a745;
  --accent-color: #ffc107;
  --text-dark: #212529;
  --text-muted: #6c757d;
  --background-light: #f8f9fa;
  --white: #ffffff;
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
  --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
  --border-radius: 12px;
  --border-radius-lg: 20px;
  --transition: all 0.3s ease;
}

/* === GLOBAL STYLES === */
* {
  box-sizing: border-box;
}

body {
  font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.6;
  color: var(--text-dark);
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  min-height: 100vh;
  padding: 20px;
  margin: 0;
}

/* === CONTAINER STYLES === */
.box {
  max-width: 1200px;
  margin: 0 auto;
  background: var(--white);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-lg);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
  animation: fadeInUp 0.8s ease;
}

.box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
}

/* === NAVBAR STYLES === */
.navbar {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%) !important;
  padding: 1rem 1.5rem;
  border-radius: var(--border-radius) !important;
  margin-bottom: 2rem;
  box-shadow: var(--shadow-md);
}

.navbar-brand {
  font-size: 1.5rem;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  transition: var(--transition);
}

.navbar-brand:hover {
  transform: scale(1.05);
  color: var(--accent-color) !important;
}

.nav-link {
  font-weight: 500;
  margin: 0 0.5rem;
  padding: 0.5rem 1rem !important;
  border-radius: var(--border-radius);
  transition: var(--transition);
  position: relative;
}

.nav-link:hover {
  background: rgba(255,255,255,0.2);
  transform: translateY(-2px);
  color: var(--accent-color) !important;
}

.nav-link.active {
  background: var(--accent-color) !important;
  color: var(--text-dark) !important;
  font-weight: 600;
}

/* === HEADINGS === */
h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h3 {
  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-size: 2rem;
  position: relative;
  display: inline-block;
}

h3::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 3px;
  background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
  border-radius: 2px;
}

/* === FORMS === */
.form-control {
  border: 2px solid #e9ecef;
  border-radius: var(--border-radius);
  padding: 1rem 1.25rem;
  font-size: 1rem;
  transition: var(--transition);
  background: var(--white);
  box-shadow: var(--shadow-sm);
}

.form-control:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
  transform: translateY(-2px);
  background: linear-gradient(135deg, var(--white), #f8f9fa);
}

.form-control:hover {
  border-color: var(--primary-light);
  transform: translateY(-1px);
}

.form-label {
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 0.75rem;
  font-size: 1.1rem;
  position: relative;
  padding-left: 1.5rem;
}

.form-label::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 20px;
  background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
  border-radius: 2px;
}

.form-select {
  border: 2px solid #e9ecef;
  border-radius: var(--border-radius);
  padding: 1rem 1.25rem;
  transition: var(--transition);
  background: var(--white);
  box-shadow: var(--shadow-sm);
}

.form-select:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
  transform: translateY(-2px);
}

.form-select:hover {
  border-color: var(--primary-light);
  transform: translateY(-1px);
}

/* === BUTTONS === */
.btn {
  font-weight: 600;
  padding: 1rem 3rem;
  border-radius: var(--border-radius);
  border: none;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-size: 1.1rem;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: var(--transition);
}

.btn:hover::before {
  left: 100%;
}

.btn-success {
  background: linear-gradient(135deg, var(--secondary-color), #218838);
  box-shadow: var(--shadow-md);
}

.btn-success:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
  background: linear-gradient(135deg, #218838, var(--secondary-color));
  animation: pulse 1.5s infinite;
}

/* === FORM CONTAINER === */
#anketaForm {
  background: linear-gradient(135deg, var(--white), #f8f9fa) !important;
  border: none !important;
  box-shadow: var(--shadow-lg) !important;
  border-radius: var(--border-radius-lg) !important;
  padding: 3rem !important;
  position: relative;
  overflow: hidden;
}

#anketaForm::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: linear-gradient(90deg, var(--primary-color), var(--accent-color), var(--secondary-color));
}

.mb-3 {
  margin-bottom: 2rem !important;
  position: relative;
}

/* === ALERTS === */
.alert {
  border: none;
  border-radius: var(--border-radius);
  padding: 2rem;
  margin: 2rem 0;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-md);
  background: linear-gradient(135deg, #d1ecf1, #bee5eb);
  border-left: 6px solid #17a2b8;
}

.alert-info {
  animation: glow 2s ease-in-out infinite alternate;
}

/* === ANIMATIONS === */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7);
  }
  70% {
    box-shadow: 0 0 0 15px rgba(40, 167, 69, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(40, 167, 69, 0);
  }
}

@keyframes glow {
  from {
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }
  to {
    box-shadow: 0 8px 25px rgba(23, 162, 184, 0.3);
  }
}

/* === TEXT STYLES === */
.text-danger {
  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
}

.fw-bold {
  font-weight: 700 !important;
}

.text-center {
  text-align: center !important;
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
  .box {
    margin: 1rem;
    border-radius: var(--border-radius);
  }
  
  .navbar-brand {
    font-size: 1.2rem;
  }
  
  h3 {
    font-size: 1.8rem;
  }
  
  #anketaForm {
    padding: 2rem !important;
  }
  
  .form-control, .form-select {
    font-size: 16px; /* Prevents zoom on iOS */
  }
  
  .btn {
    width: 100%;
    padding: 1.25rem 2rem;
  }
}

@media (max-width: 576px) {
  body {
    padding: 10px;
  }
  
  .navbar {
    padding: 0.5rem 1rem;
  }
  
  .box {
    border-radius: var(--border-radius);
    margin: 0;
  }
  
  #anketaForm {
    padding: 1.5rem !important;
  }
}

/* === FORM INPUT ICONS === */
.form-control[type="text"]::placeholder,
.form-control[type="number"]::placeholder,
.form-control[type="date"]::placeholder,
.form-control[type="tel"]::placeholder {
  color: var(--text-muted);
  opacity: 0.7;
}

/* === FORM VALIDATION STYLES === */
.form-control:valid {
  border-color: var(--secondary-color);
}

.form-control:invalid:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
}

/* === HOVER EFFECTS === */
.navbar-toggler {
  border: none;
  transition: var(--transition);
}

.navbar-toggler:hover {
  transform: scale(1.1);
  background: rgba(255,255,255,0.2);
}

/* === FLOATING ANIMATION === */
.floating-form {
  animation: floatForm 6s ease-in-out infinite;
}

@keyframes floatForm {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-5px); }
}

#anketaForm {
  animation: floatForm 8s ease-in-out infinite;
}
  </style>
</head>
<body>
  <div class="box p-4">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-danger rounded">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="index.html">🎉 Tabrik Xizmati</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Bosh sahifa</a></li>
            <li class="nav-item"><a class="nav-link active" href="buyurtma.html">Buyurtma berish</a></li>
            <li class="nav-item"><a class="nav-link" href="admin.html">Admin sahifasi</a></li>
            <li class="nav-item"><a class="nav-link" href="bizhaqimizda.html">Biz haqimizda</a></li>
            <li class="nav-item"><a class="nav-link" href="bizdamavjudxizmatlar.html">Bizda mavjud xizmatlar</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <h3 class="mb-3" style="display: flex; justify-content: center;">🚨 ANKETA</h3>
   <form id="anketaForm" class="border p-4 rounded bg-light" action="/buyurtma" method="POST">

    <h3 class="mb-4 text-center mt-4">🚨 ANKETA TO'LDIRISH</h3>
    
    <form id="anketaForm" class="border p-4 rounded bg-light floating-form">
      <div class="mb-3">
        <label class="form-label">1️⃣ Tug'ilgan kun egasining ismi</label>
        <input type="text" class="form-control" name="ism" placeholder="Masalan: Aziza" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">2️⃣ Yoshi</label>
        <input type="number" class="form-control" name="yosh" placeholder="Masalan: 25" min="1" max="100" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">3️⃣ Tug'ilgan sana</label>
        <input type="date" class="form-control" name="tugilgan_sana" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">4️⃣ Telefon nomeri </label>
        <input type="tel" class="form-control" name="telefon" placeholder="+998 90 123 45 67" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">5️⃣ Tabriklovchilar (ismlar)</label>
        <input type="text" class="form-control" name="tabriklovchilar" placeholder="Masalan: Oila a'zolari, do'stlar" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">6️⃣ Asosiy tabriklovchi (ism)</label>
        <input type="text" class="form-control" name="asosiy" placeholder="Masalan: Mama" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">7️⃣ Murojaat turi</label>
        <select class="form-select" name="murojaat" required>
          <option value="">Tanlang...</option>
          <option value="siz">Hurmatli murojaat (SIZ)</option>
          <option value="sen">Do'stona murojaat (SEN)</option>
        </select>
      </div>
      
      <div class="mb-3">
        <label class="form-label">8️⃣ Qo'shiq (xonanda va nomi)</label>
        <input type="text" class="form-control" name="qoshiq" placeholder="Masalan: Shahzoda - Tug'ilgan kuning muborak" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">9️⃣ Buyurtmachining telefon raqami </label>
        <input type="tel" class="form-control" name="buyurtmachi_telefon" placeholder="+998 90 123 45 67" required>
      </div>

      <div class="alert alert-info text-center fw-bold">
        💰 <strong>Xizmat narxi:</strong> <span class="text-danger">40,000 so'm</span> 🇺🇿<br>
        📞 <strong>Qo'shimcha ma'lumot uchun:</strong> <span class="text-success">+998 50 502 08 40</span><br>
        📱 <strong>Telegram:</strong> <a href="https://t.me/Muhiddinovna0840" target="_blank">@Muhiddinovna0840</a>
      </div>
    
      <div class="d-flex justify-content-center">
        <button type="submit" class="btn btn-success">📨 BUYURTMA YUBORISH</button>
      </div>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./script.js"></script>
  
  <script>
    // Debugging va error handling
    console.log('📝 Buyurtma sahifasi yuklandi');
    
    // Script.js yuklanganligi va anketaForm handler bo'lganligi tekshirish
    document.addEventListener('DOMContentLoaded', function() {
      console.log('🔍 DOM yuklandi');
      
      const form = document.getElementById('anketaForm');
      if (form) {
        console.log('✅ Form topildi:', form);
        
        // Form submission listener'lar sonini tekshirish
        const listeners = getEventListeners ? getEventListeners(form) : 'N/A';
        console.log('🎯 Form listeners:', listeners);
        
        // Manually form submission test
        form.addEventListener('submit', function(e) {
          console.log('🚀 Form submit hodisasi!');
          console.log('📊 Form data:', new FormData(this));
        });
        
      } else {
        console.error('❌ anketaForm topilmadi!');
      }
      
      // Network connectivity test
      fetch('/api/test')
        .then(response => {
          console.log('🌐 Server ulanish testi:', response.status);
          return response.json();
        })
        .then(data => {
          console.log('🎯 Server javob:', data);
        })
        .catch(err => {
          console.error('❌ Server ulanish xatosi:', err);
        });
    });
    
    // Global error handler
    window.addEventListener('error', function(e) {
      console.error('🔥 Global JavaScript xatosi:', e.error);
    });
    
    window.addEventListener('unhandledrejection', function(e) {
      console.error('🔥 Unhandled promise rejection:', e.reason);
    });
  </script>
</body>
</html>